##############################################################################
# $Id: makefile,v 1.3 2000-11-19 09:02:05 bird Exp $
#
# PD-Win32 API
#
#       kRx.exe makefile
#
##############################################################################

##############################################################################
# Include
##############################################################################
EXETARGET=1
NO_DEP_RULE=1
!include ..\makefile.inc
!include $(PDWIN32_INCLUDE)\pdwin32.mk

##############################################################################
# Tools and Flags Addjustments
##############################################################################
LD2FLAGS = $(LD2FLAGS) /BASE:0x10000 /Stack:0xee00


##############################################################################
# Interference rules. Note: -Fo is IBMCPP specific.
##############################################################################
.asm{$(OBJDIR)}.obj:
    @$(ECHO) assembling:      $<
    @$(AS) $(ASFLAGS) $(ADEFINES) $(AINCLUDES) $< -Fo:$@ -Fl:$(WIN32KLIST)\$(*B).lst


##############################################################################
# Main targets.
##############################################################################
TARGET  = kRx

OBJS    = \
$(OBJDIR)\kRxa.obj

LIBS    = \
os2386.lib \
rexx.lib

DEFFILE = $(TARGET).def


##############################################################################
# Includes the common rules.
##############################################################################
!include $(PDWIN32_INCLUDE)\pdwin32.post


##############################################################################
# Dependencies.
##############################################################################
dep:
    $(DEPEND) -o$$(OBJDIR) $(CINCLUDES) *.c *.cpp *.asm *.h

