##############################################################################
# $Id: makefile,v 1.4 2000-11-19 09:02:05 bird Exp $
#
# PD-Win32 API
#
#       Win32kCC.exe makefile
#
##############################################################################

##############################################################################
# Include
##############################################################################
EXETARGET=1
NO_DEP_RULE=1
!include ..\makefile.inc
!include $(PDWIN32_INCLUDE)\pdwin32.mk

##############################################################################
# Object extention
##############################################################################
OBJEXT          = obj

##############################################################################
# Tools and Flags Addjustments
##############################################################################
CINCLUDES  = -I$(WIN32KINCLUDE) $(CINCLUDES)
CDEFINES   = $(CDEFINES) -DRING3
!if "$(VAC3)" == "1" | "$(VAC36)" == "1"
CFLAGS     = $(CFLAGS)   -Wall+ppt-ppc-inl-cnv-gnr-vft-gen-uni-ext-
CXXFLAGS   = $(CXXFLAGS) -Wall+ppt-ppc-inl-cnv-gnr-vft-
!endif
LD2FLAGS   = $(LD2FLAGS) /pmtype:pm


##############################################################################
# Main targets.
##############################################################################
TARGET = Win32kCC

OBJS   = \
$(OBJDIR)\Win32kCC.$(OBJEXT)

LIBS   = \
$(RTLLIB) \
$(PDWIN32_LIB)\win32k.lib \
os2386.lib

OS2RES = \
$(OBJDIR)\$(TARGET).res


##############################################################################
# Includes the common rules.
##############################################################################
!include $(PDWIN32_INCLUDE)\pdwin32.post


##############################################################################
# Dependencies.
##############################################################################
dep:
    $(DEPEND) @<<
        -obj$(OBJEXT) -o$$(OBJDIR) $(CINCLUDES) -I$(PDWIN32_INCLUDE)
        *.cpp *.c *.h *.rc *.dlg ..\include\*.h
<<

