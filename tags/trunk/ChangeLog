/* $Id: ChangeLog,v 1.1504 2001-06-13 02:58:05 bird Exp $ */

 2001-06-13: knut st. osmundsen <knut.stange.osmundsen@mynd.no>
    - WIN16LDR: o Made it compile with Watcom and MSC60.
                  Currently I can't link it with MSC60 form the DDK
                  since there is no window libraries there.
                  Watcom links fine. But the result is not tested.

 2001-06-12: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Partly fixed position of PM frame controls
                o FillRect fix for 0 brush
                o Workaround for windows with CS_CLASSDC class. Use same
                  mechanism as CS_OWNDC. (might not always work though)
                  No (easy) way to share a single DC between windows in PM.
                  (fixes paint problems in MED)
                o Use critical sections for local hooks; faster than
                  kernel mutex semaphore calls.
    - GDI32:    o SetDIBColorTable bugfix
    - KERNEL32: o Fail to load OS/2 (non-Odin) dlls in LoadLibrary
                  (Winbench tries this)
    - ADVAPI32: o Pretend no services found in EnumServicesStatusA/W instead of
                  returning error.
                  (prevents crash in Winbench)

 2001-06-11: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Reference count bugfixes
    - GDI32:    o Added RGB555 conversion for CreateDIBitmap & SetDIBits

 2001-06-10: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o SetParent bugfix (caused crashes in user32 after yesterday's changes)
                o Preliminary support added for OS/2 look and feel (not finished)
                  Odin.ini option:
                  [ODINSYSTEM]
                  OS2Look=1      (default = 0)
                  Creates OS/2 Titlebar, system menu & min/max/close buttons.
                  Also overrides UseWinColors option (uses OS/2 colors).
                  NOTE: Can interfere with windows applications that draw their
                        own custom titlebar. (e.g. RealPlayer)
    - KERNEL32: o Added OpenProfileUserMapping & CloseProfileUserMapping stubs.
                o CreateProcess: launch win16 loader for NE executables
    - WIN16LDR: o Preliminary version of winos2 loader for 16 bits installers
                  Overrides GetVersion & WinExec functions to return the
                  version NT returns and to launch 32 bits programs (using pe).
                  (NOT FINISHED and not included in daily build)
    - PELDR:    o Execute win16 loader for NE executables.

 2001-06-09: knut st. osmundsen <knut.stange.osmundsen@mynd.no>
    - Win32API.h:
                o Added APIs required to compile user32.
    - src/makefile:
                o Relaxed the locks a little.
    - Win32k:   o Separated VAC3 and VAC36 output. (Please re-run configure!)
    - makefiles/VAC36:
                o Ignore ILIB warnings. (like those in the opengl tree)

 2001-06-09: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Keep reference count for window and class objects.
                  Only delete the objects when nobody else is using them anymore.
                  (fixes crashes due to premature destruction of objects;
                   e.g. during Napster startup)
    - KERNEL32: o heap checking accidentally turned on during logging
                  (making the debug build extremely slow)
                o Open32's CreateProcess can fail with ERROR_FILE_NOT_FOUND for
                  no apparent reason. Don't bail out when that happens, but try
                  to create the process anyway.
                  (fixes CreateProcess during Napster install)
                o Improved version of InterlockedIncrement & InterlockedDecrement
                  (borrowed from Wine)

 2001-06-08: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o WinExec fixes
                o Ported Wine's WritePrivateProfileSectionA
    - GDI32:    o DIB Section blits: translate all ROPs
                o GetDIBits fix; RGB conversion was not always performed;
                  now only for requested scanlines.

 2001-06-08: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o Optimizations for loading of PE images

 2001-06-07: Sander van Leeuwen <sandervl@xs4all.nl>
    - OLE32:    o More VAC 3.6.5 compile fixes

 2001-06-06: knut st. osmundsen <knut.stange.osmundsen@mynd.no>
    - FastDep:  o Performance enh. Don't scan files more than 1 month older
                  than existing .depend file.
                o Optimized AVL tree sligtly by not performing two strcmp
                  on the same keys (but resuing the result from the first).
                o Improved dependencies genereated for OS/2 resource files.
                  (TODO: Fix possible bad precompiler checks for C/C++ and RC.)
                o Code is now in sync with OS2Tools.

 2001-06-06: Sander van Leeuwen <sandervl@xs4all.nl>
    - OLE32:    o VAC 3.6.5 compile fix

 2001-06-05: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o Fixed ordinal export resolving for PE executables
                  (SO52 complained about missing exports)

 2001-06-05: Sander van Leeuwen <sandervl@xs4all.nl>
    - COMCTL32: o Listview: Don't repaint subitem if changed text is the same as old one.
                  (fixes endless repainting loop in WinRAR 2.80)
    - KERNEL32: o Optimized ordinal lookup even more.
                  (6900 ordinal lookups takes (on average) 31 ms now instead
                   of 78)

 2001-06-04: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Added driver dll plugin for custom device driver emulation
                  Enumerates keys in HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services
                  that contain 'DllName' keys.
                  DllName contains the name of the plugin dll that exports
                  DrvOpen, DrvClose & DrvIOCtl.
                o Dispatch breakpoint exception to application (release build only)
                  Some nasty applications expect this.

 2001-06-03: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Ported & fixed ScrollDC (Wine)
                  (fixes scrolling in Adobe Framemaker 5.5)
    - GDI32:    o RGB 565->555 conversion in GetDIBits
                o RGB 555->565 conversion in DIB Section sync
                o Sync DIB section in RealizePalette if any colors changed
                  (fixes PowerDVD colors)

 2001-06-02: knut st. osmundsen <knut.stange.osmundsen@mynd.no>
    - Win32k/configure.cmd:
                o Corrected search for the VAC compiler.
                o Removed stupid messages when -w is specified.

 2001-06-02: Achim Hasenmueller <achimha@innotek.de>
    - COMDLG32: o fix crash due to uninitialized COM object pointer in
                  Win95 open file dialog browse mode
                o default to open mode in file dialog when the
                  OFN_NOVALIDATE mode is used
                  (fixes crash in FrameMaker 5.5 file dialog when opening
                   a file that has broken image references)
    - KERNEL32: o log both error and no error conditions for GetLastError
                  with default error level. Sometimes, we don't set an error
                  where we should so this logging information is important
                o set last error to 2 (ERROR_FILE_NOT_FOUND) when using
                  CreateFileA to open a non existing file.
                  DosOpen returned 110 (ERROR_OPEN_FAILED) in this case.
                  Verified with Windows 2000 SP2
                  (makes Acrobat Distiller 5.0 startup and work!)

 2001-06-02: Sander van Leeuwen <sandervl@xs4all.nl>
    - WINMM:    o Default waveout volume can be controlled by a key in odin.ini:
                  [WINMM]
                  DefVolume=50[0-100] Default waveout volume (default = 100)
    - USER32:   o ScrollDC fix for translating clip & scroll rectangles
                  (fixes scrolling in Adobe Framemaker 5.5)

 2001-06-01: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Send WM_HELP if F1 pressed & no menu active
                o Disabled system hooks (only work in one process)
    - KERNEL32: o Improved ordinal lookup a bit. (usually 4 times faster, but
                  barely noticable with 'real' applications)
    - OLE32:    o Added OleLoadPictureEx stub
    - GDI32:    o GetDIBits fix for querying the bitmap information
                  WGSS returns 0, but we should return the nr of scan lines requested
                o GetDIBits fix for memory dcs. WGSS messes things up if
                  it's a memory DC.
                  (fixes lower right button in AIM's logon window when typing
                   in new name)
                o ExtTextOutA/W fix for filling rectangle with background color
                  only. This doesn't seem to work (anymore) with GpiCharStringPosAt.
                  (fixes border between menu & button bar in Odin MFC app &
                   Acrobat Reader 4.05)
                o StretchDIBits fix for RGB555 bitmaps
                  (fixes pictures in pdf files shown by Acrobat Reader 4.05)
    - SHLWAPI:  o Added PathGetCharTypeA/W from Wine

 2001-06-01: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o benchmarked new experimental loader and reverted to
                  old but slightly optimized loader (processExport usually
                  outweighs processImport, so lookup is less valuable than
                  add to export list)
    - SHELL32:  o SIC_Initialize took extremely long to pre-initialize
                  its icon cache. Revert to on-demand loading of the icons,
                  speeds up loading of SHELL32 (therefore most apps)
                  by several seconds.

