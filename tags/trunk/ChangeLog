 /* $Id: ChangeLog,v 1.433 1999-11-10 14:19:20 sandervl Exp $ */

 99-11-10: Sander van Leeuwen <sandervl@xs4all.nl>
	- KERNEL32: Rewrote OSLibDosAllocMem to only return addresses
                    aligned at 64kb boundaries (that's what NT's VirtualAlloc
                    does and it fixes problems with MS Word & StarCraft)
	            Fixed wrong dprintf in GetProcAddress.
                    Added code to VirtualAlloc for committing pages of memory mapped
                    files. (Word needs this)
	- USER32: Implemented WindowFromDC
                  Call WinWaitMsg from WaitMessage instead of calling Open32 api.
                  Added wvsnprintfA export (required for NTDLL)
   	- NTDLL: Link with user32.lib, don't import by name directly
                 (needs to be done for the kernel32 forwards too)
	- GDI32: Removed flipping of bitmaps in dibsection (no longer necessary)

 99-11-10: Patrick Haller <phaller@gmx.net>
	- COMDLG32:	Fix: erroneous filter data for GetOpenFileName now tolerated
			Open32 keeps to close to the docs :)

 99-11-10: knut.st.osmundsen <knut.stange.osmundsen@pmsc.no>
    	- PE2LX: Added OLE32 to the lie list. New Base class.
    	- WIN32K: Disabled Yield - this solves problems running win32k
                  at SMP kernels and logging problems on all kernels.
                  Added some parameters.

 99-11-09: Rene Pronk <R.Pronk@twi.tudelft.nl>
	- USER32: Added support for control mnemonics (Alt-key sends BM_CLICK
                  to buttons if key == mnemonic for that control)

 99-11-09: Christoph Bratschi <cbratschi@datacomm.ch>
	- GDI32: fixed line functions -> don't draw end pixel
	- COMCTL32/USER32: removed some old workarounds
	- USER32: fixed system resource handling

 99-11-09: Sander van Leeuwen <sandervl@xs4all.nl>
	- OLE32: Renamed dll to OLE32OS2 to avoid conflicts with Lotus SmartSuite's
                 OLE32.dll
	- OLE32/OLEAUT32/AVIFIL32: compilation fixes
	- KERNEL32: Fixed lstrcpynAtoW & lstrcpynWtoA, OS/2 unicode api
                    translated up to maxlen characters -> heap corruption
                    in Solitaire. Translate upto min(stringlength+1, maxlen).
                    Also, terminate at strlen(strlength), not maxbuf-1 (lstrcpynWtoA)
	- KERNEL32: Added code for renaming dlls (i.e. OLE32 <-> OLE32OS2)
                    Odin.ini in bin directory needs to be present for PE loader
                    (includes renaming entries for OLE32 & NETAPI32)
          NOTE: Dll name in ole32.lib has changed, so a complete recompilation
                is required!
          NOTE 2: We might need to add some code to the file io apis in case
                  dirty apps try to read directly from system dlls.
	- KERNEL32: No need to export private apis by name & ordinal (ord is enough)
	- INCLUDE\odinwrap.h
                  added wrappers that don't print dbg messages (regardless
                  of whether DEBUG is defined or not)
	- INCLUDE\misc.h: Added dprintf2 function for extensive logging
	- KERNEL32,USER32, replaced commented out dprintf calls with dprintf2
                           Changed makefiles to enable dprintf2 (DEBUGALL)
	- KERNEL32: Wrapper heap apis with ODIN* macros. -> fixes FS corruption
	- USER32: Fixed LoadMenuIndirectW (didn't call new code)

 99-11-09: Patrick Haller <phaller@gmx.net>
	- NTDLL:	Add:	various new functions added (DbgXXX)

 99-11-08: Markus Montkowski <mmontkowski@gmx.de>
	- WING32: Added first implementation of this old 32bit DLL.

 99-11-08: Edgar Buerkle <Edgar.Buerkle@gmx.net>
	- KERNEL32: SetCurrentDirectory, CreateDirectory, RemoveDirectory bugfixes.
                    (remove terminating backslash if present)

 99-11-08: Patrick Haller <phaller@gmx.net>
	- COMCTL32:	Fix: EDIT: if obtaining font information fails,
				   prevent division by zero
	- NTDLL:	Add:	numerous integer arithmetic functions added

 99-11-08: Sander van Leeuwen <sandervl@xs4all.nl>
	- KERNEL32: Fixed bug in thread handler (exception handler set
                    at wrong moment)
                    Ported Wine critical section code (991031), Open32
                    doesn't correctly fill in the CRITICAL_SECTION structure.
                    Limit size of memory mapped files.
	- USER32: PostThreadMessageA/W fix

 99-11-06: Sander van Leeuwen <sandervl@xs4all.nl>
	- DINPUT: Ported Wine code (991031) (not tested yet)
	- USER32: Added code for sending mouse events to dinput.dll
                  Added PM <-> win32 key translation (used in dinput.dll)

 99-11-06: Edgar Buerkle <Edgar.Buerkle@gmx.net>
	- USER32: GetMenuStringW fix

 99-11-05: Achim Hasenmueller <achimha@innotek.de>
        - COMCTL32: Source code cleanup, remove warnings, corrected typecasts
                    Added logging, warnings for stub functions
        - KERNEL32: Source code cleanup, fix warnings
        - USER32: Source code cleanup, fix warnings

 99-11-05: Patrick Haller <phaller@gmx.net>
	- COMCTL32:	Fix: TREEVIEW_Edit_Subclass is called with freed infoPtr
			     This only cures the symptoms, not the origin!

 99-11-05: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Fixed InsertMenuA
	          Message translation fix for WM_USER+n messages (GetMessage)
                  Extra translation.
                  Rewrote/Ported LoadStringA/W (similar to Wine now)
        - KERNEL32: Changed FindResource, string id translation should be done
                    in LoadStringA/W (done that way in Wine)
                    Fixed GetModuleHandleA

 99-11-05: Jens Wiessner <wiessnej@rfi.de>
	- MSVFW32: Updated to Wine level 991031
	- IMM32: Replaced some FIXME entries with dprintf;
	- KERNEL32: Added _wsnprintfA to .DEF file for export (MSACM32 needs this)
	- INCLUDE: New MSACM.H from Wine991031 (MSACM32 needs this)
	- MSACM32: New MSACM32.DLL (Ported from Wine9910131)

 99-11-05: Edgar Buerkle <Edgar.Buerkle@gmx.net>
	- GDI32: Fixes for StretchDIBits & GetDIBColorTable
	- USER32: Fixes for ArrangeIconicWindows & ShowOwnedPopups
                  NULL pointer checks in hasWindowName/hasClassName/FindClass
                  Message translation fix for WM_USER+n messages
	- OLE32: Always create OLE window class
	- KERNEL32: Null pointer check in lstrcmpiA
	- SHELL32: Corrected export of Shell_GetCachedImageIndex

 99-11-04: Sander van Leeuwen <sandervl@xs4all.nl>
	- SHLWAPI: Fixed makefile
	- USER32: Put back Dani's dialog fix (WS_CLIPSIBLINGS bit for dialog controls)
                  (fixes winhlp32 & comboboxes)

 99-11-04: Patrick Haller <phaller@gmx.net>
	- WNETAP32:	Add:	numerous undocumented functions stubbed
	- ADVAPI32:	Add:	LsaXXX-functions stubbed
	- USER32:	Fix:	wvsprintfA/W fixed (buffer overwrite)
	- KERNEL32:	Fix:	unnamed kernel objects (events, mutexes, semaphores)

 99-11-03: knut st. osmundsen <knut.stange.osmundsen@pmsc.no>
	- Makefiles: Changes to build the libraries first

 99-11-03: Sander van Leeuwen <sandervl@xs4all.nl>
	- COMDLG32: Import from shlwapi as the original Wine code does
	- SHELLL32: Added exports
	- SHLWAPI:  Link with shell32.lib for forwarders + added exports
	- USER32:   Fixed mouseactivate for subclassed OS/2 windows (scrollbars)
                    Fixed CreateIconIndirect (Wine file dialog now shows button
                    icons correctly)
                    Don't clear WS_CLIPSIBLINGS bit in OSSetWindowStyle.
                    Removed fix in PMFRAME WM_ADJUSTWINDOWPOS: Previous fix breaks
                    a lot of apps (button.exe/style.exe/header4.exe)
                    (fix = call default frame handler when receiving this msg
                     when the window hasn't been 'created' yet)

 99-11-03: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: fixed modal dialogs
		  added WM_CONTEXTMENU
	- COMCTL32: implemented statusbar size grip

 99-11-03: Patrick Haller <phaller@gmx.net>
	- KERNEL32:	Fix: 	undocumented behaviour in SearchPathA
				and bugfix in SearchPathW
	- USER32:	Fix:	TrackPopupMenuEx lpPM can be NULL
			Fix	LoadBitmapA checked for incorrect return value

 99-11-02  Markus Montkowski <mmontkowski@gmx.de>
	- DDRAW: Changed debug output to DDRAW: ...
                 Copied Framebuffer if in colorconversion mode for Normal Blits to
                 the primary surface. => Map Editor of Red Alert works.

 00-11-02: Achim Hasenmueller <achimha@innotek.de>
        - COMCTL32: Incorporated latest WINE 991031 updates
          Note: listview doesn't paint properly now. Will be fixed later.

 99-11-02: Markus Montkowski <mmontkowski@gmx.de>
	- DDRAW: Changed interface handling of Surfaces=> Quake 2 runs again!

 99-11-02: Patrick Haller <phaller@gmx.net>
	- SHELL32:	Up to current WINE level
	- SHLWAPI:	Created (in WINE it mostly links to SHELL32)

 99-11-02: Sander van Leeuwen <sandervl@xs4all.nl>
	- INCLUDE\odinwrap.h:
                  fixed wrong define (_ODINWARP instead of _ODINWRAP)
                  Only check the heap for consistency when DEBUG_ODINHEAP is
                  defined.
	- USER32: Uncommented EDIT_NOTIFY_PARENT call in EDIT_WM_SetFocus
                  (yesterday's showwindow fix makes sure no WM_SETFOCUS msgs
                   arrive before the dialog received it's WM_INITDIALOG msg)
                  Fixed more FS corruption in dc.cpp.
	- SHELL32: Added extra exports for comdlg32
	- COMDLG32: Ported Wine file & find common dialogs (991031)
                    Find & Replace dialogs enabled, Wine code called for
                    file dialogs if the app supplies a dialog template.
                    NOTE: Disabled for now. Comctl32 isn't stable enough
                          for the Win95 style Wine comdlg dialogs.
                    Fixed check for find/replace dialog. Notepad uses 32 byte
                    buffer, so why does the wine code fail for < 80 bytes?
                    Fixed display of find/replace dialog -> if not hooked
                    show dialog!
	- makefiles: Added debugsmp/nodebuginfosmp/releasesmp options to
                     start two nmake process to build everything on two cpus.

 99-11-01: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Delete all process windows & classes in exitlist handler
                  Set hwndInsertBehind to HWND_BOTTOM for group boxes
                  (fixes problems when groupbox control is defined after
                   controls inside it in dialog template)
                  Mouse activate fix.
                  Don't activate child windows in ShowWindow.
	- WINMM: Return failure for waveOutGetDevCapsA/W when there's no
                 audio hardware present.


 99-11-01: Daniela Engert <dani@ngrt.de>
	- USER32: add WS_CLIPSIBLINGS to not-WS_GROUP style STATIC controls
		  (fixes missing text in WELCOME)

	!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

	This is a hack!

	Dialog controls which contain/surround other controls *need* to be
	created with the WS_CLIPSIBLINGS style.

	!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
