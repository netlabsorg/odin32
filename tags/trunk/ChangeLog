 /* $Id: ChangeLog,v 1.786 2000-03-05 14:42:32 bird Exp $ */

 2000-03-04: knut st. osmundsen <knut.stange.osmundse@pmsc.no>
        - include\pdwin32.vac*: Added OS2RC and OS2RCFLAGS. This defines the
                OS/2 resource compiler and the flags used during compilation.
                When it comes to linking we should assume NO flags and simply
                invoke the it like this: $(OS2RC) <source>.res <target>.dll.
                (See src\kernel32\makefile for an example.)

 2000-03-05: Jeroen van den Horn <J.vandenHorn@fibre.a2000.nl>
        - GLUT32: Really fixed optimized build now. Was not a VACPP bug but
                  error in calling convention prototype in glutint.h

 2000-03-04: Jeroen van den Horn <J.vandenHorn@fibre.a2000.nl>
        - GLUT32: Added logic to escape from optimizer bug in VACPP

 2000-03-04: knut st. osmundsen <knut.stange.osmundse@pmsc.no>
        - fastdep: Simple preprocessor. Commments and #if 0/1.
        - OPENGL: Corrected makefiles. using LD2 and LD2FLAGS. Many makefiles
                 Didn't concider the NODEBUGINFO macro causing daily builds
                 to become enormous. Daily build of 6MB is not good!.
        - include\pdwin32.v*.*:
                *Alternate linker tool, LD2. This is ilink for VAC.
                 (See src\kernel32\makefile for hints how to use it).
                *Synced configuration for the two VAC versions.

                 NOTE that NODEBUGINFO and DEBUGALL is handled within these
                 files. You don't have to test for them to set the correct
                 compiler and linker flags, this is allready done!

 2000-03-04: Sander van Leeuwen <sandervl@xs4all.nl>
        - INCLUDE\pdwin32.tools, pdwin.vac*
                   Added new build rules (conditional at this time)
                   For each dll a subdir bin\release & bin\debug is created
                   in which the object files of the release & build version
                   are saved.
        - INCLUDE\pdwin32.post
                   Common makefile rules to be included by all makefiles
	- USER32\KERNEL32: Switched to new build rules
	- WSOCK32: Fixed bug in setsockopt for SO_LINGER (options size wasn't
                   adjusted)
	- KERNEL32: Fixed shell dirs (now all created in odin\bin dir)
                    Partially fixed destruction of loaded dlls in ExitProcess
                    (TODO: dependencies are not yet right; needs new design)
		    Added check and fix for DosOpen (ERROR_TOO_MANY_OPEN_FILES)
                    to hmdevio.cpp
	- USER32: Pass on keyboard messages if dinput handler returns TRUE
                  Also send non-client mouse messages to dinput
                  (TODO: always returns true after calling dinput handler)
	- OPENGL\GLIDE:
  	          Added check and fix for DosOpen (ERROR_TOO_MANY_OPEN_FILES)
                  to hmdevio.cpp (reported by Michal Necasek)

 2000-03-03: Markus Montkowski <mmontkowski@gmx.de>
        - DDRAW:  Fixed bug in CreateSurface and QueryInterface
                  (Moorhuhn now starts fine with ddraw)
        - USER32: Changed VirtualKey for VK_NEWLINE from 0x0A to 0x0D
                  in the virtualKeyTable

 2000-03-03: Sander van Leeuwen <sandervl@xs4all.nl>
        - KERNEL32: Create shell dirs in odin\bin directory
                    Cleanup (never call Open32 apis directly if the proc
                    isn't a wrapper; include win32api.h and call Odin api)
                    Fixed FS corruption for DosAliasMem
                    Fixed bug in Win32PeLdrImage::commitPage (quake 3 screensaver's
                    fixup section doesn't start on page boundary)
        - ADVAPI32/KERNEL32: Moved registry apis in kernel32 as we need them
                             there (importing them directly creates a circular
                             dependency (kernel32->advapi32->kernel32))
                             Should probably be moved to ntdll
        - WINMM: Fixed typo in DartWaveOut::init to determine bits per sample
                 (Realplayer 7 audio now works (when playing .rm files))

 2000-03-03: Jeroen van den Horn <J.vandenHorn@fibre.a2000.nl>
        - KERNEL32: Fixed calling convention bug in conprop2.cpp
                    (caused crashes with release build)

 2000-03-02: Sander van Leeuwen <sandervl@xs4all.nl>
        - OPENGL\GLIDE:         Use Odin OS/2 api wrappers in fxos2.cpp
        - OPENGL\MESA:          Reapplied TLS fixes
                                Check for null pointer in wglSetPixelFormat
        - OPENGL\MESA\3dfx:     Use c files from Mesa dir
                                Check for null pointer in wglSetPixelFormat
        - WINMM: Fixed DartWaveOut::getPosition (overflow)
                 (fixes mp3 playback in RealPlayer 7)
        - KERNEL32: Fixed SetCurrentDirectory (don't remove backslash
                    if app wants to change dir to "\")
                    Create shell folders + shell keys
                    (NOTE: This has to be done in the odin install program
                           once we have one)
        - ADVAPI32: Added crypt api stubs

 2000-03-01: Jeroen van den Horn <J.vandenHorn@fibre.a2000.nl>
        - OPENGL: Implemented DIVE support in Mesa

 2000-03-01: Sander van Leeuwen <sandervl@xs4all.nl>
        - USER32: Fixes for FindWindow(ExA/W) - now more like Wine
                  (FindWindowExW was not working correctly either)
                  First send WM_NCACTIVATE, then WM_ACTIVATE
                  Fixed focus problems with Odin apps
                  (Call WinSetFocus in OSLibWinSetActiveWindow instead of
                   WinSetActiveWindow when a user clicks on the titlebar
                   of an inactive window & after sending WM_MOUSEACTIVATE)
                  TODO: Does WinSetActiveWindow work properly or should we
                        always call WinSetFocus???
                  Call Dinput handler when translating mouse & keyboard
                  messages (during Get/PeekMessage)
        - OPENGL: Always build release version of glide, mesa, glu32 & glut
                  Build mesa software & 3dfx dlls; don't build OS/2 opengl
                  wrapper anymore
        - OPENGL\GLIDE\CVG\GLIDE:
                  Disable instruction scheduling in release build -> messed up
                  colors when turned on (most likely VAC optimizer bug)
                  TODO: Somebody should also check this for the voodoo 1 glide dll.
        - OPENGL\GLIDE\CVG:
                  Fixed makefile
        - OPENGL\MESA\GL\gl.h
                  Removed circular header dependency (breaks build)
        - OPENGL\MESA\3dfx:
		  Copy 3dfx opengl32.dll to bin\glide

 2000-03-01: Edgar Buerkle <Edgar.Buerkle@gmx.net>
	- USER32: Fixed dprintf in CreateWindowExW
                 Added left & right cursor keys to Win32BaseWindow::setExtendedKey

 2000-02-29: Edgar Buerkle <Edgar.Buerkle@gmx.net>
	- USER32: Added support for keyboard hooks (fixes Moorhuhn)
                 in PeekMessage & GetMessage

 2000-02-29: knut st. osmundsen <knut.stange.osmundse@pmsc.no>
        - TOOLS\FASTDEP: Restructured it a little. Support for multiple
                    languages:
                        C and C++ (as earlier)
                        Assembly
                        Resource files (OS/2 resources at least...)
                        COBOL (just for fun! - I'll use it at job)
                    Things seems to work ok, but if an error occurs, please
                    fix it or send me a note and I'll fix it ASAP.

 2000-02-29: Sander van Leeuwen <sandervl@xs4all.nl>
	- OPENGL\MESA: Added Odin port of Mesa Opengl library
                      (Ported by Jeroen van den Horn)
	  NOTE: The Mesa 3D graphics library has a different license
               (see LICENSE.TXT in the Mesa directory)
	- OPENGL\MESA\3DFX:
	        Added Odin port of 3dfx Voodoo Mesa GL
               (tested with simple opengl samples only, but
                this is the first hardware accelerated Opengl
                implementation for OS/2!)
	  NOTE: The Mesa 3dfx graphics library has a different license
               (see LICENSE.TXT in the Mesa\3dfx directory)
	- KERNEL32: Only call ExitProcess the first time KillWin32Process
                    is executed. Call DosExit otherwise.
                    Fix for GpdDev device io (needed for native glide dll)

 2000-02-28: Sander van Leeuwen <sandervl@xs4all.nl>
	- KERNEL32: Call ExitProcess in KillWin32Process to make sure
                   the dll libmain handlers are called after a crash.
                   (i.e. Glide needs this to restore the display)
	- INCLUDE\WIN: Added wgl definitions to wingdi.h

 2000-02-27: Sander van Leeuwen <sandervl@xs4all.nl>
	- WINMM: Implemented waveOutGetPosition

 2000-02-27: knut st. osmundsen <knut.stange.osmundse@pmsc.no>
        - pdwin32.tools: "New" tool, MAKE_CMD. Passes on the DEBUG and
                    NODEBUGINFO macros variables to the next make job.
                    (It's better to have it here than to have it in nearly
                    all makefiles, and forgetting to put it there...)
        - WIN32K:  *The dep rule will make a makefile.inc if not present. It
                    will also make dependencies for pe2lx and lib.
                   *Have created a lib rule.
                   *The all rule will now make Pe2Lx.
        - src/makefile: win32k makes pe2lx, no need for special pe2lx stuff.

              Sander, have a look the build and rebuild rules please.

 2000-02-26: knut st. osmundsen <knut.stange.osmundse@pmsc.no>
        - WIN32K: *Symbol Database is implemented. Contains symbols for most
                   retail kernels. (see win32k.txt or readme.txt)
                  *No scanning of the os2krnl file, the loaded image is now
                    scanned to determin which build, debug/retail and smp/uni.
                  *16-bit logging.
                  *Extract.exe rule. Extract.exe program generates the
                   SymDb.c source file found in dev16 from a collections of
                   kernel symbol files.

 2000-02-25: Christoph Bratschi <cbratschi@datacomm.ch>
	- COMCTL32: added listview unicode support
		    fixed treeview WM_VSCROLL, trap in UNILIB

 2000-02-24: Achim Hasenmueller <achimha@innotek.de>
	- COMCTL32: Added infoPtr == NULL checks in tooltips control
	            to prevent crashes when tooltip creation fails

 2000-02-25: Sander van Leeuwen <sandervl@xs4all.nl>
	- OPENGL\GLIDE: Added Odin version of Glide based on the OS/2 port
                       written by Craig Ballantyne. (Voodoo 1 & Voodoo 2)
                       NOTE: Includes 3dfx Glide license

 2000-02-24: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: WS_MAXIMIZE & WS_MINIMIZE flags updated when necessary
                 Changed/fixed RedrawWindow -> fixes lack of erase background
                 msg in AbiWord rebar control & Papyrus start dialog
                 TODO: Pingpong.exe broken again. Need to fix this correctly
 	 	   Hide caret in BeginPaint, show it in EndPaint
	- GDI32: CreateICA/W bugfix (Open32 tests lpszDriver for NULL even though it's ignored)
                (fixes Papyrus error message about CreateIC)
	- COMCTL32: Fixed wrong calling convention for property sheet handlers
                   (prsht.h in include\win)
		     This fixes crashes in VPBUDDY (preferences dialog) AND (!)
                   fixes the empty preferences dialog in both debug & release
                   builds.
                   NOTE: I've fixed similar bugs before. Somebody should verify
                         all comctl32 handlers...

 2000-02-23: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: export 55AA pattern functions for COMCTL32
		   fixed EN_CHANGED
	- COMCTL32: converted to C++ -> needs nmake dep
		     ported animate control

 2000-02-22: Sander van Leeuwen <sandervl@xs4all.nl>
	- WINMM/GDI32/KERNEL32/USER32: Fixed compile problems for release build
	- USER32: Fixed bug in window class ctor (windowProc not set to 0)
                 (only showed up in release build)
	- KERNEL32: Fixed bug in commitPage (winimagepeldr.cpp)
                   (only showed up in release build)
                   Fixed wrong calling convention for SetLastError calls
                   in OSLibiGetModuleHandleA
                   (only showed up in release build)
                   Fixed wrong calling convention for SetLastError calls
                   in oslibdos.cpp.

 2000-02-22: Christoph Bratschi <cbratschi@datacomm.ch>
	- COMCTL32: merged with Corel WINE 20000212
		     added common base functions

 2000-02-21: Przemyslaw Dobrowolski <dobrawka@asua.org.pl>
	- CRTDLL: Added wtol, wtoi, setsystime, getsystime

 2000-02-21: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: merged controls and nc code with Corel WINE 20000212
		   added WS_EX_CONTEXTHELP button

 2000-02-21: knut st. osmundsen <knut.stange.osmundse@pmsc.no>
        - WIN32K: *Initial support for UNIX-styled scripts
                   (files starting with an #!<interpreter> [args...])
                   This is a _very_ big hack! But never the less it's working.
                   (or at least it seems like working...)
                  *The kernel symbol importer is enhanced to support more
                   generic function prologs and to import variables and
                   16-bit functions.
                  *Segments are now locked in physical memory.
                  (Note, last changes have not been tested on Aurora yet,
                   but it will hopefully work just fine.)

 2000-02-21: Sander van Leeuwen <sandervl@xs4all.nl>
	- GDI32: SetDIBits bugfix (for dib sections)
	- USER32: Ported all Wine accelerator apis (fixes keys in calc)

 2000-02-21: Jens Wiessner <wiessnej@rfi.de>
	- RASAPI32: Added stubs
	- OLEPRO32: Ported Corel Wine stub dll
	- CRTDLL: Replaced some stubs

 2000-02-18: Sander van Leeuwen <sandervl@xs4all.nl>
	- OPENGL\GLIDE: Added Odin version of Glide based on the OS/2 port
                       written by Craig Ballantyne. (Voodoo 1)
                       NOTE: Includes 3dfx Glide license

 2000-02-17: Sander van Leeuwen <sandervl@xs4all.nl>
	- KERNEL32: Fixed memory map view bug (main map deleted when there
                   were still views left) -> fixes crash when playing Realplayer
                   video (.rm) files
	- WINMM: Added new logging feature + fixed waveout query format bug

 2000-02-16: Christoph Bratschi <cbratschi@datacomm.ch>
	- COMCTL32: treeview: switched to unicode, fixed many bugs

 2000-02-16: Sander van Leeuwen <sandervl@xs4all.nl>
	- KERNEL32/USER32/GDI32: Added new logging feature which allows users
                                 to disable or enable logging for separate source
                                 files. (see Logging.txt for details)
	- GDI32: SetDIBitsToDevice fix for RealPlayer 7 (store the right bitmap
                 size in the BITMAPINFO structure before calling Open32)

 2000-02-15: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: SetWindowPos bugfix (returned before hiding or showing windows)
                  Fixes Delphi apps
	- KERNEL32: Fixed Release method of LX dlls (didn't delete object)
                    Fixed cpuhlp assembly functions (compiler changes calling
                    convention with optimizations on (stores parameter in eax
                    instead of on the stack)

 2000-02-14: Sander van Leeuwen <sandervl@xs4all.nl>
	- COMCTL32: Added Wine license
	- KERNEL32: Search in path for dlls if the pe loader can't find them
                    (RP7 loads pngu3264.dll by changing PATH and then calling
                     LoadLibrary)

 2000-02-14: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: merged combobox with Corel 20000212
	- COMCTL32: merged treeview with Corel 20000212 and continued rewrite

 2000-02-12: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: added v5.00 messages to wndmsg.cpp
	- GDI32: LineDDA fix

 2000-02-12: David Raison <djr@lemur.co.uk>
 	- OLE32: Fixed IsEqualIID issue

 2000-02-11: Vit Timchishin <tvv@sbs.kiev.ua>
	- KERNEL32: Fix for OpenFile; fill in OFSTRUCT even if api fails
                    (needed for Acrobat Reader 4.0)

 2000-02-10: Knut Stange Osmundsen (knut.stange.osmundsen@pmsc.no)
        - /tools/database/ + /src/makefile: Odin32 API DB.

 2000-02-10: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: added some stubs
		  fixed wrong pixels at the right side of menu items
	- COMCTL32: implemented LVS_NOSORTHEADER
		    increased statusbar height (temporal hack)
		    first steps of treeview rewrite

 2000-02-10: Sander van Leeuwen <sandervl@xs4all.nl>
	- GDI32: Added support for memory map handles in CreateDIBSection
                 Fixed CreateICA/W; Open32's version is case sensitive whereas
                 win32's apparently isn't.
	- TOOLS\makefile: fixed clean build
	- src\makefile: fixed clean build
	- src\makefile.smp: fixed incorrect dir change

 2000-02-10: Knut Stange Osmundsen (knut.stange.osmundsen@pmsc.no)
        - *: Updated the source tree to use autogenerated dependencies.
             You will have to do a 'nmake dep' from either /src or / before
             being able to make anything.
             -All makefiles is required to have a 'dep' rule.
             -All dll makefiles is now required to have a 'lib' rule which
              makes the libraries for the module. This rule should also
              check that the library in $(PDWIN32_LIB) is up-to-date.
        - Tools/FastDep: Dependency tool. (Fast=Quick-and-Dirty)
             Moved from /src/win32k. This is currently used to generate
             dependency information.
             Note that it doesn't have any precompiler logic! This is causeing
             some warnings...
        - include/pdwin32.tool: Two new tools DEPEND and DOWITHDIRS.
        - src/makefile: used the DOWITHDIRS to do cleanup, lib and dep.

 2000-02-10: Edgar Buerkle <Edgar.Buerkle@gmx.net>
	- GDI32: Fix alignment for 1 & 4 bits bitmaps (dibsection)
	- NTDLL: Pretend no debugger is active in NtQueryInformationProcess

 2000-02-09: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Implemented WaitForInputIdle
                  ScrollWindow fix; don't call InvalidateRect as WinScrollWindow
                  already invalidates the area (and the call to InvalidateRect was
                  wrong as it has to include the erase flag; should have called
                  RedrawWindow instead)
	- KERNEL32: WinExec: Wait for process to block on input before
                    returning
	- OpenGL base, GLUT, GLU: Added version resource, removed dll exitlist
                                  handlers

 2000-02-09: Knut Stange Osmundsen (knut.stange.osmundsen@pmsc.no)
        - OpenGL base, GLUT, GLU: NODEBUGINFO implemented in the makefiles.

 2000-02-09: Jeroen van den Horn <J.vandenHorn@fibre.a2000.nl>
        - ODIN.INI: OPENGL32.DLL <--> OPENGL.DLL translation, since
                    WinXX OpenGL apps can be dynamically linked with
                    MS OpenGL (OPENGL32.DLL) *or* SGI OpenGL (OPENGL.DLL).

 2000-02-09: Jeroen van den Horn <J.vandenHorn@fibre.a2000.nl>
        - OpenGL base: Various minor fixes
        - OpenGL GLUT: Various minor fixes
        - OpenGL GLU:  'Native' port of SGI GLU

 2000-02-08: Knut Stange Osmundsen <knut.stange.osmundsen>
        - Win32k: Temporarily disabled some unused imported kernelfunctions.
                  Corrected a problem with overloading _ldrEnum32bitRelRecs;
                  it failed on WS4eB. (Message 'DosDevIOCtl failed')

 2000-02-08: Sander van Leeuwen <sandervl@xs4all.nl>
        - USER32: Don't use shell positioning for child windows (breaks Notes)
                  Turn of WM_BACKERASEBKGND when calling RedrawWindow to
                  invalidate a window (without erase flag set; but also without
                  noerase) -> fixes flickering in pingpong Opengl sample
        - KERNEL32: Search path for executables when they can't be found in
                    the current directory.

 2000-02-07: Christoph Bratschi <cbratschi@datacomm.ch>
        - KERNEL32: Ported more Wine thunk apis

 2000-02-07: Sander van Leeuwen <sandervl@xs4all.nl>
        - USER32: Fix for DCX_INTERSECTRGN in GetDCEx (use ExtSelectClipRgn
                  to combine current & new clip region)
        - ADVAPI32: Ported Wine LookupAccountSidA/W (semi-stubs now)

 2000-02-06: Jens Wiessner <wiessnej@rfi.de>
	- WINMM: Updated MCI dlls (added version info)

 2000-02-06: Sander van Leeuwen <sandervl@xs4all.nl>
	- KERNEL32: Changed GetProcessDword ordinal to 18
	- USER32: Temporarily commented out shellposition changes
                  (breaks i.e. calc & Notes)
                  Started rewriting BeginPaint/EndPaint + DC apis

 2000-02-06: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: ported WinHelpA from WINE

 2000-02-05: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: WM_SETHOTKEY: save data
		  prototype for WS_EX_CONTEXTHELP button
		  check WS_EX_RIGHT in button control
		  fixed tasklist entry
		  implemented CW_USEDEFAULT with FCF_SHELLPOSITION

 2000-02-05: Sander van Leeuwen <sandervl@xs4all.nl>
	- KERNEL32: Memory map fixes (file maps)
	- USER32: mdi child creation fix (child still not activated when created)
                  Default WM_ERASEBKGND handler change (only erase invalid area)
                  (note: might be wrong; have to check this in NT; probably
                         need to rewrite code that sends those messages)
                  -> fixes redraws for i.e. windows behind menu windows
	- GDI32: Don't use Open32 apis to load opengl32 (nor for GetProcAddress)
                 Import wgl* apis
	- OPENGL: Removed OS2wgl apis (they had the wrong calling convention
                  -> causes crashes in gdi32 when compiled with optimizations on)

 2000-02-04: Markus Montkowski <mmontkowski@gmx.de>
        - DDRAW:  Many minor/major bugfixes at numerous places
        - DSOUND: Fixed GetCurrentBufferPos in the virtual player

 2000-02-04: Sander van Leeuwen <sandervl@xs4all.nl>
	- ALL: Added version resource (if not already present)
               Link with dllentry.obj (those dlls that don't need custom dll
               entrypoints)
               Clean up in process detach handler of win32 libmain
               (except for a few core dlls (gdi32/user32/kernel32))
	- DLLENTRY: Standard dll entrypoint

 2000-02-04: Christoph Bratschi <cbratschi@datacomm.ch>
	- COMCTL32: merged with WINE 20000130

 2000-02-03: Jens Wiessner <wiessnej@rfi.de>
	- NTDLL: Ported Wine security apis
	- CRTDLL: Update

 2000-02-03: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: merged controls with WINE 20000130

 2000-02-03: Daniela Engert <dani@ngrt.de>
	- GDI32: Implement RGB 555 to RGB 565 conversion in assembler

 2000-02-03: Sander van Leeuwen <sandervl@xs4all.nl>
	- WININET: Ported Wininet code from Corel Wine tree
	- INCLUDE\WINSOCK: MS Winsock compatible header
	- GDI32: Prelimary RGB 555 to RGB 565 conversion in SetDIBitsToDevice
                 (will be rewritten in assembly for better performance)
                 (for RealPlayer videos in 16 bits mode)
	         BitBlt fix (return after dibsection blit -> fixes Quake 2)
                 Added MMX RGB conversion.
	- USER32: Added export for OS2ToWin32Handle
	- COMDLG32: Merged with latest Wine version (20000109)
	- INCLUDE\WIN: Fixes to compile comdlg32 in C mode
		 (will be rewritten in assembly for better performance)
		 (for RealPlayer videos in 16 bits mode)
		 BitBlt fix (return after dibsection blit -> fixes Quake 2)

 2000-02-01: Jeroen van den Horn <J.vandenHorn@fibre.a2000.nl>
	- OPENGL: Ported SGI GLUT sources + Opengl update

 2000-02-01: Sander van Leeuwen <sandervl@xs4all.nl>
	- GDI32: Cleaned up
		 Fixes for dib section apis. RealPlayer 7 can play videos
		 now (correct in 24 bps mode; upside down and wrong colors
		 in 16 bps mode)

 2000-02-01: Knut Stange Osmundsen <knut.stange.osmundsen>
	- Pe2Lx: Makefile should be working again.
	- KERNEL32: RegisterPe2LxDll - no detach is done for Pe2Lx/Win32k DLLs.
		    This is a temporary fix.

 2000-02-01: Patrick Haller <phaller@gmx.net>
	- SHELL32: Added PathSkipRootAW

 2000-02-01: Jens Wiessner <wiessnej@rfi.de>
	- NTDLL: Updated .def file (similar to NT 4 SP6) + bugfix for impdef

 2000-01-31: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: GetDCEx with window handle 0 fails in Windows 98; now it also
		  returns an error in Odin.
		  GetWindowDC & GetDC use the desktop window handle if hwnd == 0
		  (before calling GetDCEx)
	- GDI32: Set dibsection bitmap data to 0 when allocating it.

 2000-01-30: Sander van Leeuwen <sandervl@xs4all.nl>
	- PELDR: Fixed error messages for images without fixups (peldr.dll no
		 longer required)
	- GDI32: Removed wrong bugfix for GetDIBits (breaks Lotus Notes)
	- USER32: Don't check for window visibility when calling SetWindowPos
		  in SetMenu. (fixes menu in standard minesweeper)
		  (NOTE: May need to call SetWindowPos with SWP_FRAMECHANGED
			 when showing a window (see Wine code))
		  Put back GetMenuStringA fix (return length of string if string pointer
		  or size parameter == 0) (almost fixes Realplayer 7 menu)

 2000-01-29: Sander van Leeuwen <sandervl@xs4all.nl>
	- GDI32: Save and restore FPU control word when calling
		 Open32's DrawText. DrawText trashes it which causes drawing
		 problems in RealPlayer 7.
	- USER32: Call DrawTextA in uitools.cpp, not Open32's DrawText.
		  Fix for SetWindowPos for showing hidden windows
		  (call ShowWindow) -> fixed non-visible button bar in mIRC
		  Don't set WS_VISIBLE on by default. Windows are made visible
		  during creation by calling ShowWindow.
		  Call UpdateWindow for client window, not the frame.
	- INCLUDE\WIN\wingdi.h: Added GdiFlush declaration
	- INCLUDE\makefiles: Added c/c++ definitions for win32 apps (without
	  -D__WINE__ so you don't need to specify whether you use the ascii
	  or unicode version of a win32 api)

 2000-01-29: Przemyslaw Dobrowolski <dobrawka@asua.org.pl>
	- KERNEL32: Added GlobalWire/GlobalUnwire

 2000-01-28: Sander van Leeuwen <sandervl@xs4all.nl>
	- GDI32: Wrong return values for GetDIBits & SetDIBitsToDevice
		 (nr of scan lines copied; not true/false)
	- USER32: Don't call default frame handler for WM_ADJUSTWINDOWPOS
		  (fixes window resize when playing videos in RealPlayer v7 &
		   dragging titlebar in Professional Mine Sweeper)

 2000-01-28: Knut St. Osmundsen <knut.stange.osmundsen@pmsc.no>
	- Win32k: Heap is splitted into a swappable and a resident heap.
		  Fixups are now applied when a page is loaded from disk.
		  This is done by overloading the kernel function called
		  (_)ldrEnum32bitRelRecs. This should improve performance a lot!

 2000-01-27: Jeroen van den Horn <J.vandenHorn@fibre.a2000.nl>
	- OPENGL: First version of opengl implementation

 2000-01-27: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Fixed FS corruption in OSLibPostThreadMessage
		  Send WM_CHILDACTIVATE to child windows (not only
		  to MDI children) instead of WM_ACTIVATE
	- SHELL32: Fixed FS corruption in DragAcceptFiles

 2000-01-26: Yuri Dario <mc6530@mclink.it>
	- INCLUDE\WIN: Additions & changes for compiling Opera.
	- many dlls: create correct library (impdef)

 2000-01-26: Jeroen van den Horn <J.vandenHorn@fibre.a2000.nl>
	- GDI32: Changes for Opengl support

 2000-01-26: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: fixed WM_MOVE, MsgFormatFrame and WM_WINDOWPOS* to use parent
		  coordinates
		  changed min frame size
	- COMCTL32: fixed wrong progress frame

 2000-01-26: Sander van Leeuwen <sandervl@xs4all.nl>
	- OLEAUT32: Don't create logfile when logging is turned off
	- PELDR:    Don't modify cmd line in PIB structure
	- INCLUDE:  Removed string.h.
	- KERNEL32: Added workaround for OS/2 DosSetMem bug in VirtualAlloc
		    (if memory is reserved, set read & write page flags)

 2000-01-25: Sander van Leeuwen <sandervl@xs4all.nl>
	- PELDR/KERNEL32: Allocate low memory at right address and with right size
			  in peldr.dll (fixes install of Windows Media Player)
	- KERNEL32: Print thread id for each log message

 2000-01-22: Michal Necasek <mike@mendelu.cz>
	- DINPUT: Fixes + basic functionality is complete; enough for many games

 2000-01-21: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Put back old WM_MOVE, MsgFormatChanged & OSLibSWPToWINDOWPOSFrame
		  Previous changes broke many apps (VPBuddy, MIrc32)
		  Don't update window if style changes (responsibility of the app)
		  Store window menu & id in same variable (fixes clock ->
		  double click on analog window -> titlebar & menu gone; menu
		  used to stay there)
		  Put back WM_CALCVALIDRECT code in pmwindow. Fixes updates
		  of clock window (who's class has CS_H/VREDRAW style).
	- KERNEL32: Fixed image loading for resource lookup only (don't care
		    where those images are loaded as we only use it to query
		    the version resource; so base address doesn't matter)
		    (-> RealPlayer 7 installs now)

 2000-01-20: Sander van Leeuwen <sandervl@xs4all.nl>
	- KERNEL32: Disabled creation of pe_x.log if logging disabled
		    Only get codepage once from odin.ini.

 2000-01-20: Vit Timchishin <tvv@sbs.kiev.ua>
	- KERNEL32: Codepage bugfix & unicode translation changes (heapstring.cpp)
	- GDI32:    Added codepage support for CreateCompatibleDC

 2000-01-20: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32: fixed WM_CONTEXTMENU
		  dispatch WM_MOUSEMOVE in menu loop

 2000-01-18: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Removed 'old' user32 and replaced it with the new one
		  Call default window proc when DefMDIChildProcA/W is called
		  for a non-MDI window.
		  Fixed menu check & submenu marks painting
	- KERNEL32: Increased shared heap reserve size to 512 kb
	- SHELL32:  Display Odin logo in Shell about dialog box

 2000-01-18: Jens Wiessner <wiessnej@rfi.de>
	- WINMM\WAVEMAP
	  Updated to Wine level 20000109 + corrected compile
	- MCICDA: ported MCICDA.DLL from Wine 20000901 (Linux cdrom calls stubbed
		  so it doesn't work)

 2000-01-17: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32\NEW: Added basic support for DInput WM_CHAR notification
		      (the rest needs to be done in dinput.dll)
		      Use KEYBOARD_Enable user32 export to (un)register WM_CHAR
		      handler. (WNDPROC type) It's called when a WM_CHAR message
		      arrives for an Odin window with hwnd, msg, wParam & lParam.
	- DINPUT:     Fixed bugs reported by Michal Necasek

 2000-01-16: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32/NEW: implemented sysmenu commands: SC_SIZE and SC_TASKLIST
		      fixed WM_MOVE
		      changed HTCAPTION system menu position
		      changed maximized window position
		      don't move/size maximized windows

 2000-01-15: Jens Wiessner <wiessnej@rfi.de>
	- TWAIN_32: Update
	- WINMM\MCIANIM,MCIAVI32,MCISEQ,MCIWAVE,MIDIMAP
		    Updated to Wine level 20000109 + corrected compile errors
	- WINMM: Ported Wine wave mapper.

 2000-01-15: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32\NEW: Fixed scroll repaints (never use GetMessage with window
		      handle as that can prevent WM_PAINTs from being dispatched)
		      (may need reworking of Get/PeekMessage instead)
		      ScrollWindow changes
		      Removed frame drawing 'bugfix'.
		      Fixed system menu position for child windows (i.e. MDI)
		      Fixed titlebar tracking for child windows (i.e. MDI)
	- KERNEL32:   Check for null pointers in lstrcmpA

 2000-01-15: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32/NEW: cache menu and caption drawing
		      changed minimize button position
		      don't redraw system menu icon in menu.cpp
		      hilighted menubar items don't have an edge in Win9x
		      don't open system menu on mouseover if menubar is used and vice versa
		      show sysmenu on WM_NCRBUTTONUP with HTCAPTION set (todo: position)
		      use WIN32_STDCLASS2 for windows with CS_SAVEBITS class style

 2000-01-14: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32/NEW: added caption clipping for faster window text updates

 2000-01-14: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32\NEW: Fixed min/max bug for mdi child windows
		      Fixed DrawMenuBar (invalidate frame rectangle in
		      FrameUpdateClient if client rectangle wasn't changed)
		      Fixed bugs in MsgFormatFrame & SendNCCalcSize
		      Fixed WM_WINDOWPOSCHANGED translation for frame window (not done yet)
		      (Winamp works now)
		      Removed code that's no longer used (subclassed OS/2 frame
		      controls & OS/2 scrollbar functions etc)

 2000-01-13: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32\NEW: WM_ACTIVATEAPP should be sent when another process' window
		      is activated or deactivated
		      Send correct thread id for non-Odin windows in WM_ACTIVATEAPP
		      Set window handle of non-Odin window to window desktop in WM_ACTIVATE
		      Return window desktop handle for window handle returned by
		      SetActiveWindow if window is non-Odin.
		      Fixed activation of windows. (send WM_ACTIVATE when receiving
		      a WM_WINDOWPOSCHANGED message in pmframe.cpp)
		      Fixed DrawFrame; bottom & right frame borders now drawn correctly
		      Fixed scrollbar positioning (style.exe)
		      Fixed CS_OWNDC for GetDCEx (DCX_WINDOW); don't use a window
		      DC to save/restore a window's own dc.
		      Fixed client rectangle problems. Client rectangles
		      are always in frame coordinates; window rectangles in
		      screen coordinates. Whenever necessary (i.e WM_MOVE)
		      client coordinates are converted to coordinates relative
		      to it's parent client window.
		      Changed WM_MOVE -> client coordinates relative to parent origin
		      if child; otherwise relative to screen origin. (needs testing)
		      (WM_NCCALCSIZE needs to be done as well)
	- COMCTL32:   Version resource version nrs changed (based on NT 4 SP3)
	- KERNEL32:   Added DisableLogging & EnableLogging functions to
		      disable logging in parts of code. Logging will only be
		      done if the logcount is bigger than 0.

 2000-01-12: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32/NEW: fixed WM_CALCVALIDRECTS
		      activated WM_NCPAINT clipping
		      added improved frame redraw mechanism

 2000-01-12: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32\NEW: Changed client rectangle positioning (not done by PM frame
		      handler anymore) -> fixes problems with Shell About dialog
		      and jumping controls when resizing (Winhlp32)
		      Fixed menu tracking for different submenus
		      Fixed delayed repaints of invalidated menu rectangles
		      Ported Wine messagebox code. (for GUI consistency)
		      Fixed bugs in ShowScrollBar. (vert. scrollbar wasn't enabled
		      in notepad)
		      Fixed 'frame' control updates (resizing client window in
		      SetWindowPos for SWP_FRAMECHANGED)

 2000-01-11: Jens Wiessner <wiessnej@rfi.de>
	- TWAIN_32: Bugfix (removed test code)

 2000-01-11: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32/NEW: fixed AdjustWindowRectEx

 2000-01-11: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32\NEW: Put nonclient code in win32wbasenonclient.cpp
		      Removed hardcoded dependancy on shell32; load it on-demand
		      Fixed LoadBitmap (OBM_RADIOCHECK was missing from system bitmap list)
		      Fixed wrong return value for OSLibWinGetMsg
		      Workaround for bug in GDI32 FillRect (menu items painted
		      black instead of gray) (menu.cpp, MENU_DrawMenuItem)
		      Applied patch to Wine menu code for RealPlayer
		      Fixed default return value of DefWndProc (0)
		      Fixed SetMenu (menus should be set when a window is no child)
		      Call correct SetMenu function from MsgCreate Win32BaseWindow method
		      Use WIN32_INNERFRAME frame class for top level windows again.
		      (VPBuddy repaint problems were solved by using this class)

 2000-01-10: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Fixed message translation for WM_TIMER with no window handle or timer proc
		  Bugfix for OSLibWinGetMsg & OSLibWinPeekMsg (wrong return value)
	- WINMM:  Fixed wrong error code for waveOutOpen & waveOutGetDevCaps when
		  there's no audio device
	- USER32\NEW: Fixed message translation for WM_TIMER with no window handle or timer proc
		  Changed WM_NCHITTEST behaviour. Now sent during WM_MOUSEMOVE
		  or button down/up message translation.
		  Fixed LoadBitmap (only load from user32 if it's a system bitmap)
		  Added WM_NCACTIVATE message generation
		  Bugfix for OSLibWinGetMsg & OSLibWinPeekMsg (wrong return value)
		  Changed GetSystemMenu; added method to Win32BaseWindow class
		  (destroy old menu if present and switch back to default system
		   menu if bRevert = TRUE; needs changes in non-client code)

 2000-01-10: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32/NEW: activated menu code

 2000-01-09: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Added border size for top-level windows in OSLibWinConvertStyle
		  (borders are not drawn correctly)
		  Fixed bug in pmframe WM_WINDOWPOSCHANGED handler (don't update
		  client/window rectangle when size nor position have changed)
		  Fixed out of sync rectWindow. (children don't get notified of
		  parent position change -> rectWindow (in screen coord.) not updated)
		  Fixed LoadBitmap for system bitmaps
		  Fixes for win32 titlebar + added win32 system menu
		  System menu commands now work
		  Fixed repaint problem for win32 titlebar
		  Added Christoph's gradient filled title bars code
		  For (experimental) win32-like windows add this to odin.ini:
			[CUSTOMIZATION]
			OS2Look=0

			[COLORS]
			UseWinColors=1

 2000-01-09: David Raison <djr@lemur.co.uk>
	- OLEAUT32: Typelib - Updated TKIND_ALIAS handling.

 2000-01-09: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32/NEW: implemented scrollbar nc handling
		      windows without menus work now fine
		      implemented gradient filled title bars

 2000-01-08: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: ModifyMenuA bugfix (changing menu ids didn't work)
		  OSLibGetMsg bugfix + WM_QUIT translation fix
		  OSLibGetMenuItemRect fix (y coordinate conversion)
		  Changed WM_NCHITTEST behaviour. Now sent during WM_MOUSEMOVE
		  or button down/up message translation.
	- OLE32/OLEAUT32/OLESVR32/OLEDLG/OLECLI32:
		  Added Wine-like license that supercedes the main Odin license
	- CRTDLL: Fixed many register based floating point exports (CRTDLL__CIcos,
		  CRTDLL__CIatan etc etc)

 2000-01-08: Jens Wiessner <wiessnej@rfi.de>
	- CRTDLL: Compile fix

 2000-01-08: Patrick Haller <phaller@gmx.net>
	- SHELL32:	Update: to WINE level 2000/01/08
	- KERNEL32:	Add:	stub for GetDiskFreeSpaceExAW

 2000-01-06: Christoph Bratschi <cbratschi@datacomm.ch>
	- GDI32: added PatBlt support for negative width/height

 2000-01-06: Sander van Leeuwen <sandervl@xs4all.nl>
	- ADVAPI32: Implemented StartServiceCtrlDispatcherA/W
		    Faked RegisterServiceCtrlHandlerA/W (TODO)
		    Partly implemented SetServiceBits/SetServiceStatus
		    Improved QueryServiceStatus
		    Call RtlCreateAcl in InitializeAcl
	- LZ32: Create correct library
	- CRTDLL: Fixed CRTDLL__wcsnicmp (use Wine version)
	- VERSION: Fixed VerQueryValue32A and merged with latest Wine sources
		   (991212) (-> fixes errors in RealPlayer)
	- USER32: GetMenuStringA fix (return length of string if string pointer
		  or size parameter == 0)

 2000-01-05: Jens Wiessner <wiessnej@rfi.de>
	- TWAIN_32: Update

 2000-01-05: Christoph Bratschi <cbratschi@datacomm.ch>
	- USER32/NEW: single window works now

 2000-01-05: Sander van Leeuwen <sandervl@xs4all.nl>
	- KERNEL32/NTDLL: Partially implemented NtOpenThreadToken
			  (should be changed)
			  MS Office 2000 install (first part) almost working.
			  (installs windows installer as system service)
	- OLEAUT32: Typelib bugfix for MS Office 2k install
	- odin_ini.txt: Added information about CODEPAGES & TWAIN section

 2000-01-05: David Raison <djr@lemur.co.uk>
	- OLEAUT32: LHashValOfNameSys(A)

 2000-01-04: Jens Wiessner <wiessnej@rfi.de>
	- TWAIN_32: Created twain dll for usage with CFM Twain for OS/2.

 2000-01-04: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: InsertMenu bugfix (RealPlayer calls InsertMenu with flag 0 & pos -1)
		  Delete old region in SetWindowRegion

 2000-01-03: Przemyslaw Dobrowolski <dobrawka@asua.org.pl>
	- KERNEL32: Named pipe updates & bugfixes

 2000-01-03: Jens Wiessner <wiessnej@rfi.de>
	- LZ32/TAPI32: Updated def files to match NT 4 SP6
	- MSVCRT: Updated def files + MSVCRT40 version info
	- WINMM: Added Wine's MCI dlls (not compiled as this requires
		 a working MCI subsystem in winmm and a redesign of
		 wave & midi)

 2000-01-03: Sander van Leeuwen <sandervl@xs4all.nl>
	- LZ32: Cleaned up .def file (don't import directly) & removed
		debugtools.h
	- USER32: Fixed PostThreadMessage + bugs in GetMessage
	- KERNEL32: Set hmq & hab THDB values for newly created
		    threads (hmq not correct now)

 2000-01-02: Przemyslaw Dobrowolski <dobrawka@asua.org.pl>
	- KERNEL32: Started implementing named pipe apis

 2000-01-02: David Raison <djr@lemur.co.uk>
	- OLEAUT32: Typelib fixes - Custom Data & Default values.
		    Added private logging to tlib_n.log when reading a TLIB.
		    (Should clarify what is being read & why)
		    Now supports embedded named TLIBS in the format
		    <path>\<libname>\<id> (required for VB6, etc.)
		    Preparatory work to reduce dependance on
		    current file position to enable delaying parsing
		    data until it is requested by user.

 2000-01-02: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Implemented Set/GetWindowRgn (not activated)
	- KERNEL32: Fixed Odin zombie processes when there's a trap inside
		    vfprintf during logging.
		    Cleaned up file io procedures in oslibdos.cpp

 2000-01-01: Sander van Leeuwen <sandervl@xs4all.nl>
	- USER32: Workaround for crash in Lotus Notes when switching to a new
		  view (PM sends WM_WINDOWPOSCHANGED msg after DestroyWindow
		  has been called for a window -> don't dispatch this msg)

