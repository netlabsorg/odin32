/* $Id: ChangeLog,v 1.1591 2001-07-12 16:24:33 sandervl Exp $ */

 2001-07-12: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Atom fixes

 2001-07-10: Sander van Leeuwen <sandervl@xs4all.nl>
    - COMDLG32: o Don't clear filename when selecting of switching
                  directory is file open/save dialog.

 2001-07-10: knut st. osmundsen <kosmunds@csc.com>:
    - WIN32K:   o Made DosKillProcessEx framework.
                o Tried to fix missing unlocks of environment block.
    - KERNEL32: o Tried to fix missing unlocks of environment block.
                o Fixed module not found problem when a Pe2Lx is dynamically
                  loaded several times.
                o Defined env.var. ODIN32.FAIL_IF_UNREGISTEREDLX to make
                  LoadLibraryEx fail on unregistered LX dlls. This will fix
                  the most annoying int 3's when starting Opera on debug Odin.
                  (Two int 3 per netscape/2 plugin checked.)

 2001-07-09: knut st. osmundsen <kosmunds@csc.com>:
    - CRTDLL:   o When renaming dlls we still use the original importlibrary
                  and .def-file names. ORGTARGET exist for that purpose.
    - NTDLL:    o Link with crtdll.lib.
    - VERSION:  o Link with crtdll.lib.
    - WIN32K:   o Updated LieList with CrtDll -> CrtDll32 renaming.

 2001-07-09: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Directly import registry functions from REGISTRY.DLL
    - GDI32:    o Never use object handle 0
                  (fixes bad icons in dialogs)
    - USER32:   o Same edit fix as applied yesterday, but this time for
                  single line edit control painting.
                  (Opera url editbox now displays selected text properly)

 2001-07-08: Achim Hasenmueller <achimha@innotek.de>
    - WSOCK32:  o error message to human readable text translation
                  for WSASetLastError (debug version)
                o implemented IPPROTO_IP support for setsockopt
                  (not fully done)
                o reset semaphore in WSAEnumNetworkEvents
    - USER32:   o deleted user32\old. It is still in the CVS attic
                  so in case you need it, you can get it from CVS

 2001-07-08: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Some icon fixes
                o Changed scrollbar behaviour in OS/2 mode; scrollbar doesn't
                  jump back to last click position when moving the mouse
                  outside the scroll window during scrolling.
                o Changed menu behaviour in OS/2 mode; no mouse tracking
                  when right or left mouse button not pressed.
                o Clipboard (Get/SetClipboardData: must translated open32
                  to kernel32 global memory handles (due to Global memory
                  api rewrite)
                o Key translation for arrow keys and insert/del, home/end, page up/down
                  added (WM_CHAR message translation)
                o Edit control bugfix for drawing selected text
    - KERNEL32: o More pointer checks added to GlobalLock/Unlock
                o Add default rename entry for crtdll
                o Fixed FS corruption in atom functions (wrapper for LookupAtom)
    - CRTDLL:   o Renamed to crtdll32 to avoid problems with some Lotus
                  apps that come with their own crtdll
    - NTDLL:    o Link with crtdll32.lib
    - VERSION:  o Link with crtdll32.lib
    - SHLWAPI:  o Link with crtdll32.lib
    - PELDR:    o Fix for file not found error

 2001-07-08: knut st. osmundsen <kosmunds@csc.com>:
    - KERNEL32: o Added call in initterm to tell win32k where the Odin32
                  environment block is. (Its in Open32, and I don't think
                  it is reallocated.)
                o Added early initiation of Win32k loaded EXE. This corrected
                  problems with GetModuleHandleA returing -1 to MSVCRT.
    - WIN32K:   o Fixed environment block problem. The environment variables is
                  not updated in the original env.block. So, win32k needs to
                  be told where to find the Odin32 environment block to correctly
                  find dlls using the PATH.
                o Corrected crosspage fixup bug.
                o Set no internal fixups flag in LX header for most executables
                  in an attempt to convice OS/2 to load them where they wanna be
                  loaded (usually 0x00400000).
                o Can now tell difference between the debug kernels.

 2001-07-07: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Rewrote atom functions (no longer relies on Open32)
                o Fixed GetAtomNameW
    - GDI32:    o Don't use Open32 IsBad* memory functions directly
    - COMDLG32: o PrintDlg fix: must translated open32 to kernel32 global
                  memory handles (due to Global memory api rewrite)

 2001-07-07: Achim Hasenmueller <achimha@innotek.de>
    - WS2_32:   o import WSAEventSelect from WSOCK32 (although a
                  Winsock 2.0 API, it makes more sense to be implemented
                  in the Winsock 1.1 stack)
                o import WSAEnumNetworkEvents from WSOCK32 (same reason)
    - WSOCK32:  o enhanced WSAAsyncSelect processing to allow both
                  window handle and event semaphore notification
                o implemented WSAEventSelect
                o implemented WSAEnumNetworkEvents (not correct)

 2001-07-07: knut st. osmundsen <kosmunds@csc.com>:
    - URLMON:   o Stubbed HlinkSimpleNavigateToString and RegisterBindStatusCallback
                  to fix SYS2048 during RealPlayer install.
    - WIN32K:   o Fixed the DBExpert bug in the longdllname code.
                  BTW. Thanks to Randell at Sundial Systems and Alex Newman
                  for reporting this and begin very helpful tracking it down.
                o The longdllname feature now differs from the OS/2 loader on
                  one points: <br>
                  It is able to find (DosQueryModuleHandle) for dlls using
                  internal names which includes the .DLL extention. <br>
                  The longdllname feature don't currently support names with
                  extention .DLL like extentions with base name lengths from
                  4-7 chars. I will fix this some day.<br>

 2001-07-06: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o HeapAlloc must return pointers aligned at 8 byte boundary
                o GlobalAlloc must return pointers aligned at 8 byte boundary
                  (SDK docs + verified in NT4, SP6)
                o Better checks in GlobalFree for invalid handles/pointers
                  (InvestmentView seems to call it with a GDI handle; why??)
                o LocalReAlloc bugfix
    - USER32:   o Must return 16 bits icon & cursor handles
                  (fixes crash in Acrobat Reader 4)
    - GDI32:    o GetDIBits must only return color information when lpvBits
                  is not NULL.
                  (fixes Opera crash (heap corruption) with new heap code)
    - PELDR:    o Report error when file not found.

 2001-07-05: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o WM_WINDOWPOSCHANGED dispatch bugfix (introduced yesterday)
                o WinHelpA fixes (use shared memory for sending information
                  to winhlp32)
    - KERNEL32: o Added GlobalFix and GlobalUnfix
                o Local memory functions now use Global memory functions
                o Ported Wine Global memory functions (we no longer depend
                  on Open32 for these)

 2001-07-04: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Partial implementation of ToAsciiEx (just calls ToAscii)
                o VkKeyScanExA/W: call VkKeyScanA/W
                o MapVirtualKeyExA/W: call MapVirtualKeyA/W
                o SetParent bugfix; even though the win32 coordinates might
                  not change, the PM coordinates can. We must make sure the
                  child stays at the same position (y) relative to the
                  (new) parent.
                  (Cool Edit Pro LE play buttons now at the right position)
                o Send WM_SETICON to frame window with converted win32 icon
                  (application icon now visible in task list)
                o Quick fix for window creation:
                  Before a window has processed WM_NCCREATE:
                  - GetTopWindow can't return that window handle
                  - GetWindow(parent, GW_CHILD) can't return that window handle
                  - IsChild works
                  TODO: Does this affect more functions?? (other GetWindow ops)
                  (verified in NT4, SP6)
                  TODO: Must add window to parent's child list after WM_NCCREATE
                        and rewrite GetWindow & GetTopWindow
                  (fix for crash in MP3 Explorer)

    - GDI32:    o Workaround for applications that depend on 16 bits
                  GDI object handles.
                  (TODO: must create our own 16 bits handles)
                  (fixes crash in Cool Edit Pro LE)

 2001-07-03: knut st. osmundsen <kosmunds@csc.com>
    - KERNEL32: o Improoved the Unhandled exception message by
                  trying to provide modulename and some kind of obj/offset.
    - FastDep:  o (synced with OS2Tools) Make better use of data in evt.
                   existing .depend file so that only changed files are processed.

 2001-07-03: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Executable load fix
                  (fixes crash during RealPlayer 8 install)
                o Allow loading of OS/2 dlls for Odin32 apps (like Opera)
    - USER32:   o ToAscii & GetKeyboardState fixes
                  (for Putty keyboard input)
