/* $Id: changelog,v 1.1877 2001-12-02 12:40:45 sandervl Exp $ */

 2001-12-02: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Don't send WM_SIZE message to dialog before it receives
                  WM_INITDIALOG
                  (winzip 8.0 and Opera crash when sending this message too soon)
                  (TODO: check in NT if this is really correct)
    - COMCTL32: o Restored old property sheet code as latest Wine version
                  causes too many new problems.

 2001-12-01: knut st. osmundsen <kosmunds@csc.com>
    - CRTDLL:   o Include ctype.h from dir.c and string.c. (Noted by Ye][ow.)

 2001-12-01: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Fixed GetThreadTEB macro & GetCurrentThreadId
                  (completely broke debug build among other things)

 2000-12-01: Yuri Dario <mc6530@mclink.it>
    - USER32:   o MENU_FindItem: extra check added for loops in menus

 2001-11-30: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o heapstring.cpp: improvement on HEAP_malloc, HEAP_free,
                  HEAP_realloc, HEAP_size
                o acceleration on GetCurrentThreadId()
    - SHELL32:  o use HEAP_xxx functions for frequently called APIs
    - ODINPROF: o Note: SET PROFILEHOOKS=1 before doing NMAKE PROFILE=1
                  This will enable the profiler in ODINCRTP.DLL
                  (use release build ODINPROF.DLL), generates (pid).prof
                  on process exit.
    - *         o fixed out-of-scope TRACE,FIXME,WARN macros

 2001-11-30: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Changed menu hilite background to the color used by PM
                  (OS/2 look)
                o DIALOG_IsAccelerator resync (Wine)
    - KERNEL32: o Partly implemented PurgeComm
    - *         o Removed all the TRACE, FIXME & WARN redefinitions
                  (temporary hack for better logging; didn't affect the release
                   build anyway)
                  TODO: we need better logging in Wine code

 2001-11-29: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o Split dosdevice.cpp from stubs.cpp
                  (DefineDosDevice, QueryDosDevice)
                o Fixed CDROM ioctls and disk access
                  (previous fix failed or cause possible regression)
    - OLEAUT32: o olepicture.c: fixed null pointer exception
                  cause: our TRACE, FIXME, etc. debugtools macros all
                  go out of scope of a braceless if-statement before!
                  Therefore, we're getting false (error) messages or
                  even crashes. (to be fixed)

 2001-11-29: Sander van Leeuwen <sandervl@xs4all.nl>
    - COMCTL32: o Listview: invalidate entire item for ownerdraw control
                            (don't exclude report margin)
    - KERNEL32: o Fixed disk access (yesterday's changes broke it)
    - SHELL32:  o Removed wrong call to ctordtorInit that caused the disk
                  access problems in the custom build.

 2001-11-28: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o fixes in ::CreateFile calls (return codes must be Win32)
                o fixes in symbolic link management
                o marked some important TBDs for phys. disk mgmt!
                o fixed HMCOMM to accept (what a good idea)
                  \\.\COM1, COM1, COM1: but not "\\.\COM1:" (NT4SP6)
                o added support for AUX->COM1, PRN->LPT1, CON->CONOUT$
                o added NUL device

 2001-11-28: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o WaitCommEvent fixes (must reset overlapped event semaphore &
                  store result of overlapped operation in parameter)
                o Removed symbolic link for \\.\. Adding this is a very bad idea
                  as CreateFile calls for device driver will be routed to files.
                  Probably causes even more problems.
    - INCLUDE:  o winbase.h: CBR_xxxx definitions wrong

 2001-11-27: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o added \\.\ as standard symbolic link to the local namespace
                  This is the clean way for alternative device names,
                  local kludges in the device handlers should be avoided.
                o fix in name resolver

 2001-11-27: Sander van Leeuwen <sandervl@xs4all.nl>
    - WSOCK32:  o Missing FS wrapper macros added
    - KERNEL32: o Accept \\.\COMx as name for COM ports
    - USER32:   o EnumChildWindow bugfix

 2001-11-26: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Implemented CancelIo & GetOverlappedResult for serial comm
                o Preliminary work on overlapped IO for serial comm

 2001-11-24: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Custom build fix; check for double call for inittermKernel32
                o More informative message when non-existing api is called.
                  Now displays dll + function name or ordinal.

 2001-11-23: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o minor work in parallel port support (ioctls)
                o "Kernel Object Namespace" -> handlenames.cpp introduced
                  (yet inactive)

 2001-11-23: knut st. osmundsen <kosmunds@csc.com>
    - Misc. Makefiles: o Corrected the descriptions (on request from Ye][ow).

 2001-11-22: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Check volume label during IOCTL_DISK_GET_DRIVE_GEOMETRY to
                  see if the media has been changed or removed.
                o Implemented WriteFile & GetFileType for disk handles
                  (write currently only allowed for drive A)
    - DSOUND:   o Renamed DllGetClassObject & DllCanUnloadNow to avoid name
                  conflicts in the custom build.

 2001-11-22: Patrick Haller <patrick.haller@innotek.de>
    - ODINPROF: o initial version
                  PROFILE images using ODINCRTP generate a <pid>.prof file
                  (the optimized release build of ODINPROF should be used)
                  No source code modification required.
                  Problem: mapsym seems to corrupt kernel32.sym
    - KERNEL32: o additions to parallel port support

 2001-11-21: knut st. osmundsen <kosmunds@csc.com>
    - src/makefile:
                o Added guidlib to NOTDLLS.

 2001-11-21: Sander van Leeuwen <sandervl@xs4all.nl>
    - COMCTL32: o Tooltips bugfixes (wrong pointer used to free memory)
    - USER32:   o GetMenu: check that window menu is indeed a menu and not an id
                  (fixes failed assertion in ZOC)
                o Groupbox fix: if text changes; erase top border + old text

 2001-11-20: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Destroy CD notification window during dll unload
                o Focus fix for dialog windows
                  Experiments in NT4 show that dialogs that are children don't
                  receive focus. Not sure if this is always true. (couldn't
                  find any info about this in the SDK docs)

 2001-11-19: Sander van Leeuwen <sandervl@xs4all.nl>
    - GUIDLIB:  o Library with all GUIDs used by Odin
    - COMDLG32, OLE32, OLEAUT32, SHLWAPI, SHELL32:
                o Removed guid source files and link with guidlib.lib

 2001-11-18: Sander van Leeuwen <sandervl@xs4all.nl>
    - WS2_32:   o Compile fix
    - OLEAUT32: o Don't include guid file in custom build library

 2000-11-18: Yuri Dario <mc6530@mclink.it>
    - USER32:   o WM_SETTEXT (unicode) fix
                  (latest changes broke Opera among other things)

 2001-11-16: Sander van Leeuwen <sandervl@xs4all.nl>
    - COMCTL32: o LISTVIEW_UpdateScroll update (from old control)
    - USER32:   o Disallow nested calls to SetScrollRange. This is most likely
                  not the right fix, but it works so far without negative side
                  effects.
                  (fixes crash in CVP listview with 4+ items)
    - GDI32:    o Removed line draw speedup. If I have to choose between
                  a performance loss of a few clock cycles and a code size
                  increase of 2k, I prefer the 1st option.
    - WSOCK32:  o ODINWRAP changes break winsock. This code still depended
                  on FS save/restore. Now added a wrapper header for all
                  OS/2 socket functions.

 2001-11-16: Patrick Haller <patrick.haller@innotek.de>
    - ODINWRAP: o don't generate any frame procedure for RELEASE build
                  anymore (even no FS: wrapper (meanwhile superfluous))
                  -> significant performance gain for logged micro functions
    - KERNEL32: o heap speedup (30%)
    - GDI32:    o minor line drawing speedup

 2001-11-14: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o fixed infinite loop in PE loader for corrupted or
                  misinterpreted PE images (Opera 6)
    - OLEAUT32: o fixed Null pointer exception in VariantTimeToDosDate

 2001-11-14: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32, USER32, COMCTL32, SHELL32, OLE32:
                o Removed unnecessary string copy operation changes (heap -> stack)
                  Performance improvement is minimal at best and stack
                  corruption is MUCH harder to locate than heap corruption.

 2001-11-13: Patrick Haller <patrick.haller@innotek.de>
    - fastdep:  o IPF support.

 2001-11-13: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o provided faster alternatives to HEAP_strdupXXX
      ...         which operate on stack only (STACK_strdupXXX)
                  This could slightly reduce heap pressure.
    - USER32:   o avoid unnecessary strcpy/strlen when get/setting window text

 2001-11-13: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Added missing entry in debug log table for hmparport
                  (fixes crash in debug build with selective logging)
    - GDI32:    o CalcBitmapSize bugfix
                o SetDIBitsToDevice workaround for bug in Matrox driver.
                  When blitting 32 bpp data, the GpiDrawBits call will
                  fail with an insufficient memory error. When that happens,
                  convert data to 24 bpp and try again.
                  (TODO: This can happen in more functions!!)
                o Fixes for wrong bit masks in several functions (24 & 32 bpp)
                o Refuse DeleteObject for DEFAULT_GUI_FONT handle

 2001-11-12: Patrick Haller <patrick.haller@innotek.de>
    - ODINWRAP: o improved thread call path tracking
                  (now collects i. e. HEAP_malloc->HeapAlloc paths)

 2001-11-12: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o Fix for calculating font size for a dialog box

 2001-11-11: knut st. osmundsen <kosmunds@csc.com>
    - KERNEL32: o Only declare OS/2 AFFINITY stuff if it isn't there.
                  (Build breaker. Seems like someone has an old toolkit...)

 2001-11-10: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Implemented Get/SetProcessAffinityMask & SetThreadAffinityMask

 2001-11-08: Sander van Leeuwen <sandervl@xs4all.nl>
    - COMCTL32: o Ported latest Wine property sheet control
                  (fixes some, but not all problems in CVP)

 2001-11-08: Patrick Haller <patrick.haller@innotek.de>
    - KERNEL32: o first shot at parport support

 2001-11-07: Sander van Leeuwen <sandervl@xs4all.nl>
    - USER32:   o EndDialog fix for MFC dialog windows
                o static control fix: SS_CENTERIMAGE means fill remainder
                  of client area with upper left pixel of bitmap
    - KERNEL32: o Fix for applications that use CreateFile to open
                  a named pipe

 2001-11-07: Patrick Haller <patrick.haller@innotek.de>
    - WININET:  o http, internet: WINE sync

 2001-11-05: Sander van Leeuwen <sandervl@xs4all.nl>
    - KERNEL32: o Call old DosOpen if DosOpenL not available

