/* $Id: changelog,v 1.2405 2002-12-30 15:48:45 sandervl Exp $ */

 2002-12-30: Yuri Dario <mc6530@mclink   >
    - USER32:   o Fixed regression in Set/GetClassLong. (default must be ascii;
                  not unicode)

 2002-12-30: Sander van Leeuwen <sandervl@innotek   >
    - GDI32:    o Support reversed bitmap data in SetDIBits
    - DDRAW:    o Fixed pitch for offscreen surfaces so it doesn't conflict
                  with GetDIBits/SetDIBits alignment (aligned at dword boundary)
                o Use GetDIBits & SetDIBits with negative height. Origin must
                  be top left.

 2002-12-29: Sander van Leeuwen <sandervl@innotek   >
    - DDRAW:    o Cleanup
    - KERNEL32: o Fix return value in case of error in SetThreadPriority
                o Fixed GetSystemTimeAsFileTime
    - USER32:   o Fix for painting a completely ownerdrawn menu (owner window
                  was wrong; need to resync with Rewind/Wine)
                o Don't proceed with DoNCPaint if window is invisible or minimized

 2002-12-28: Sander van Leeuwen <sandervl@innotek   >
    - USER32:   o Changed default WM_MOUSEACTIVATE handler (like Wine now)
    - PELDR:    o Change BEGINLIBPATH before loading any dlls. It's now no
                  longer required to have the system32 directory present
                  in the system LIBPATH.
    - GDI32:    o SetDIBitsToDevice fix for inverted blitting

 2001-12-28: Dietrich Teickner <Dietrich_Teickner@t-online   >
    - USER32:   o Listbox fix for WM_SETFONT; update listbox height
    - SHELL32:  o FO_RENAME updates for shell file operations

 2001-12-28: Jochen Sch„fer <josch@joschs-robotics   >
    - GDI32:    o Compile fixes for IBM VAC 3.6.5

 2002-12-27: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Cleaned up console code (hardcoded WriteLog calls)
                o Fixed stack address detection in VirtualFree

 2002-12-20: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Removed obsolete code for Glide drivers and IOPL
                o Don't display message boxes for module load errors. Pass
                  errors back to the PE loader.
    - DDRAW:    o Removed IOPL override code
    - PELDR:    o Error handling changes
    - USER32:   o Send WM_H/VSCROLL with SB_THUMBTRACK when the scrollbar thumb
                  receives a WM_LBUTTONDOWN message

 2001-12-19: Dietrich Teickner <Dietrich_Teickner@t-online   >
    - KERNEL32: o GetFileTime & SetFileTime fixes; need to convert between
                  UTC and local file time

 2002-12-18: Sander van Leeuwen <sandervl@innotek   >
    - USER32:   o Ported listbox, combo & edit controls from ReWind
                o Changes for window classes with both ascii & unicode
                  window procedures
                o Replace WS_BORDER style with WS_EX_CLIENTEDGE extended style
                  when creating dialog controls. (as done in Wine/Rewind)
                  (corrects wrong borders with new edit control)
                o Removed obsolete source files
                o Don't send focus related dialog messages if control
                  already has focus. (Win32Dialog::setFocus)

 2002-12-17: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o CreateProcess bugfix (heap corruption)
    - USER32:   o Merged dialog directory functions with latest Rewind
                  (fixes double drive string in folder dialog of some
                   Installshield installers)

 2002-12-13: Sander van Leeuwen <sandervl@innotek   >
    - USER32;   o Query loader path for WPS object creation
    - KERNEL32: o Changes for loader path query & default setup

 2002-12-12: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Fixed wrong access of global memory map critical section
                  (custom builds only)
    - USER32:   o Fixed wrong access of global window handle critical section
                  (custom builds only)
                o Changed all system menu resources; manually append
                  Odin menu items when building the system menu.
                  (instead of removing them)

 2002-12-11: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Added custom build function to disable loading of LX dlls
                  (safety precaution)
                o 16 bits loader command line changes

 2002-12-10: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Closing a root key should just return success
                  (matters for custom builds)

 2002-12-05: Knut St. Osmundsen <bird@anduin   >
    - WIN32K:   o Finially got around fixing the bug.
                  (Was d32init.c, pach <= 0x10000, where compiler did signed
                  comparision instead of unsigned. (pach is > 0xfff00000))
                o Recreate the symbol database. Had to remove some kernels
                  because of size problems.

 2002-12-05: Sander van Leeuwen <sandervl@innotek   >
    - COMCTL32: o Put back old tab height calculation code. Fixes the tabs
                  in certain applications.

 2002-12-05: Platon Fomichev <platon@innotek   >
    - USER32:   o Changed system menu in OS/2 GUI mode
                o Support the standard system menu hotkeys in OS/2 GUI mode

 2002-12-04: Sander van Leeuwen <sandervl@innotek   >
    - DDRAW:    o Cleanup
                o Post resize message in SetCooperativeLevel instead of
                  calling SetWindowPos. Workaround for recursive SetWindowPos
                  calls in USER32.
    - DINPUT:   o Check initial cursor position in relative mode when acquiring
                  the mouse
    - USER32:   o Logging changes
                o Change required for postponed DDRAW resize

 2002-12-03: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o CreateFile/OpenFile: convert file name to long if in hashed 8.3 format.
                o Added function to override loader names (pe/pec/w16odin)

 2002-12-02: Platon Fomichev <platon@innotek   >
    - OLE32:    o Removed stupid wait in STUBMGR_Start. Blocks PM for two seconds.

 2002-12-02: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Convert command line from OS/2 to Windows codepage

 2002-11-29: Sander van Leeuwen <sandervl@innotek   >
    - USER32:   o Add ODIN_SetSyscolors to override system colors without
                  forcing a desktop repaint
                o Don't call SetSysColors in WGSS anymore. That call updates
                  system colors in PM.
                o Always use the internal color table in GetSysColor; don't
                  call WGSS

 2002-11-28: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Make sure the stack is properly aligned
                  We're asking for problems if our stack start near a 64kb
                  boundary. Some OS/2 thunking procedures can choke on misaligned
                  stack addresses. (workaround; not a real fix)

 2002-11-27: Sander van Leeuwen <sandervl@innotek   >
    - USER32:   o Fixed CopyBitmap (CopyImage, IMAGE_BITMAP)

 2002-11-27: Platon Fomichev <platon@innotek   >
    - WININET:  o Some updates (should resync with Wine!)

 2002-11-26: Sander van Leeuwen <sandervl@innotek   >
    - GDI32:    o Added debug wrappers for all exports
    - USER32:   o Handle icon masks with different line alignment. CreateBitmap
                  assumes the optimal alignment, so we must convert them properly.
                  (no collate icon in printer dialog)

 2002-11-22: Platon Fomichev <platon@innotek   >
    - USER32:   o Static control fix: do not destroy old icon when it is replaced.

 2002-11-21: Sander van Leeuwen <sandervl@innotek   >
    - GDI32:    o Fixed bugs in MMX RGB 555<->565 conversion (leftovers)

 2002-11-20: Sander van Leeuwen <sandervl@innotek   >
    - USER32:   o Ignore size changes when a window is minimized; save them
                  for restore.

 2002-11-18: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Added support for renaming of exported functions.
                  (to resolve duplicate name exports in custom build dlls)
    - GDI32:    o DeleteObject can delete DC handles (thanks to Dietrich Teickner
                  for spotting this bug)

 2002-11-13: Sander van Leeuwen <sandervl@innotek   >
    - SETUPAPI, RICHED32:
                o Wine resync

 2002-11-12: Sander van Leeuwen <sandervl@innotek   >
    - COMCTL32: o Wine resync (toolbar, propsheet, imagelist)
    - OLE32, OLEAUT32:
                o Wine resync

 2001-11-12: Dietrich Teickner <Dietrich_Teickner@t-online   >
    - COMCTL32: o Wine resync (comboex)

 2002-11-05: Platon Fomichev <platon@innotek   >
    - GDI32:    o FillRgn fix for DIB sections
    - USER32:   o SetMenu bugfix

 2002-11-04: Platon Fomichev <platon@innotek   >
    - GDI32:    o CreateCompatibleDC workaround for WGSS bug (current position
                  of new DC must be (0,0))
    - USER32:   o Update for static control

 2002-10-29: Sander van Leeuwen <sandervl@innotek   >
    - COMCTL32: o Wine resync (header, comboex, flatsb, hotkey, imagelist,
                  pager, propsheet, rebar, tab, toolbar, tooltips, updown)
    - COMDLG32: o Write default printer name to win.ini (needed for printer
                  dialogs)

 2002-10-28: Sander van Leeuwen <sandervl@innotek   >
    - GDI32:    o Workaround added for WGSS GetDIBits bug
    - COMDLG32: o Use Wine printer dialog

 2002-10-28: Platon Fomichev <platon@innotek   >
    - USER32:   o Fix for WinPeekMsg bug (?); sometimes returns a message
                  we didn't ask for (filter)
                o Fixed creation of dialog with CreateWindowExA/W
    - GDI32:    o StretchDIBits fix for partial blits & RGB conversion

 2002-10-24: Platon Fomichev <platon@innotek   >
    - USER32:   o TranslateWinMsg bugfix

 2002-10-15: Platon Fomichev <platon@innotek   >
    - USER32:   o Disable close button & close item in system menu for windows
                  with SC_NOCLOSE class style

 2002-10-11: Sander van Leeuwen <sandervl@innotek   >
    - USER32:   o SetParent bugfix; don't clear window id if parent is set to
                  0.

 2002-10-10: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Overlapped IO bugfixes for synchronization (typically seen
                  with heavy threaded apps on SMP systems)
                o Fix for IP logging

 2001-10-08: Dietrich Teickner <Dietrich_Teickner@t-online   >
    - SHELL32:  o SHFileOperationA updates

 2002-10-08: Sander van Leeuwen <sandervl@innotek   >
    - ODINCRT:  o Updates for shared critical sections

 2002-10-07: Sander van Leeuwen <sandervl@innotek   >
    - ODINCRT:  o Minor updates for critical section functions

 2002-10-07: Platon Fomichev <platon@innotek   >
    - IPHLPAPI: o GetAdaptersInfo bugfix
    - KERNEL32: o CD ioctls: stop audio when seeking

 2002-10-03: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Added IP logging (define WIN32_IP_LOGGING in dbglog.cpp)
    - IPLOG:    o IP logging server

 2002-10-03: Platon Fomichev <platon@innotek   >
    - KERNEL32: o Implemented IOCTL_CDROM_RAW_READ

 2002-10-01: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Be careful with stack usage in exception handler during
                  XCPT_GUARD_PAGE_VIOLATION.

 2002-09-30: Sander van Leeuwen <sandervl@innotek   >
    - SHELL32:  o Fixed crash when deleting a file in the file dialog
    - KERNEL32: o Fixes for volume access

 2002-09-30: Platon Fomichev <platon@innotek   >
    - COMDLG32: o File dialogs: if lpstrInitialDir is not a dir but a filename
                  skip it and use current directory

 2002-09-27: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o GetFileSize must fail for drives
                o Disable physical disk & volume access by default;
                  call EnablePhysicalDiskAccess to enable it (custom build)
                o FindFirst/NextVolumeA fixes for ignoring LVM volumes

 2002-09-26: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o OS/2 Physical partition names have base 1 (0 for win32)
                o Convert ERROR_PATH_NOT_FOUND to ERROR_FILE_NOT_FOUND in
                  OSLibDosCreateFile
                o IOCTL_DISK_GET_DRIVE_GEOMETRY fix for physical drive
                o Fixed return value for FindNextVolumeMountPointA/W
                o Fixed read & write for unmounted volumes; must update
                  current file position manually & check for boundaries
    - WINMM:    o Fixed debug wrapper logging
    - USER32:   o WM_ADJUSTFRAMEPOS:
                  The PM frame control changes the z-order of a child window
                  if it receives focus after a window has been destroyed
                  We can't let this happen as this breaks assumptions
                  elsewhere (e.g. GetNextDlgGroupItem)
                  By returning 0 here, we prevent the default frame handler
                  from messing things up. (one example is a group of radio buttons)

 2002-09-24: Vit Timchishin <tivv@ukr    >
    - KERNEL32: o Fix for OSLibDosFreeMem

 2002-09-24: Sander van Leeuwen <sandervl@innotek   >
    - BIN:      o WGSS update from IBM
    - IPHLPAPI: o GetNetworkParams: fixed completely broken code to fill in
                  DNS entries.

 2002-09-19:
    - MAKE, TOOLS/BIN/RM, FASTDEP:
                o IPF and IPP support. They are built in the 'misc' pass.
                  See make\testcase\ipf.mak for usage example.
                  NB. FastDep does only C styled dependency generation
                  for .IPP files.
                o Corrected bad .orc dependency generation.
                o Added some shortcut rules to restart/skip passes.
                o Fixed rm -R filename. Suppressed ERROR_PATH_NOT_FOUND msgs.

 2002-09-19: Sander van Leeuwen <sandervl@innotek   >
    - ODINCRT:  o Include new & delete in memory statistics

 2002-09-19: Platon Fomichev <platon@innotek   >
    - USER32:   o Put window on top of owner if owner is not in the foreground;
                  HWND_TOP forces the owner to the top as well
                  (window creation)

 2002-09-18: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o Added code to print leaked heap memory

 2002-09-18: Platon Fomichev <platon@innotek   >
    - USER32:   o WM_MOUSEWHEEL update

 2002-09-17: Platon Fomichev <platon@innotek   >
    - USER32:   o Create invisible vertical scroller for all top-level windows
                  so the IBM wheel driver sends us WM_VSCROLL messages
                o Added WM_MOUSEWHEEL message support

 2002-09-16: Sander van Leeuwen <sandervl@innotek   >
    - COMCTL32: o LISTVIEW_ProcessLetterKeys bugfix
    - GDI32:    o Statistics fixes & print leaked gdi handles
                  when unloaded.
                o Don't recycle handles too soon. That makes it more difficult
                  to interpret the logfile.

 2002-09-16: Platon Fomichev <platon@innotek   >
    - USER32:   o Combobox fix to update selected item when the control is rolled
                  up

 2001-09-15: Dietrich Teickner <Dietrich_Teickner@t-online   >
    - SHELL32:  o Wine resync for shfileop.c

 2002-09-14: Sander van Leeuwen <sandervl@innotek   >
    - KERNEL32: o WaitForSingleObject, (Msg)WaitForMultipleObjects:
                  If dwTimeout is not 0 and smaller than 20 ms, then
                  temporarily change thread priority to time critical to
                  make sure we don't get a late timeout.
                  (CLOCKSCALE=4 in config.sys also improves timeout responds)

 2002-09-14: Yuri Dario <mc6530@mclink   >
    - DSOUND:   o Load MMPM2 (MDM.DLL) on demand

 2002-09-12: Platon Fomichev <platon@innotek   >
    - USER32:   o Translate PM WM_VSCROLL to WM_MOUSEWHEEL messages (currently
                  only dispatched to (dinput) hook handler)

 2002-09-12: knut st. osmundsen <bird@anduin   >
    - MAKE:     o Corrected bug in process which made it put the libraries in
                  the wrong place.
                o Always stamp the .def file before linking so that build level
                  info will be up to date.
                o Added some shortcuts rules for lazy programmers:
                  * pass[1-6] for starting from a given pass.
                  * quick for only doing lib, executable and publish.

 2002-09-10: knut st. osmundsen <bird@anduin   >
    - TOOLS/VSLICK:
                o Added kdev.e. Odin32.e with more goodies like an 'Extra' menu.

 2002-09-05: Sander van Leeuwen <sandervl@innotek   >
    - USER32:   o Caret bug in edit control WM_ERASEBKGND handler (hidden,
                  but not shown again)
                o Removed obsolete hack in CreateCaret

 2002-09-05: Dietrich Teickner <Dietrich_Teickner@t-online   >
    - COMDLG32: o Corrected translation of IDS_TODESKTOP resource string

 2002-09-04: knut st. osmundsen <bird@anduin   >
    - FASTDEP:  o Corrected bug in caching. Didn't force rescan of files when
                  a dependant file wasn't present any more.
                o Corrected makefile. No memory debug.
    - CMDQD:    o Corrected makefile.

    - Tools/DailyBuilds:
                o Changed odin32env.cmd to use buildenv.cmd to set up the
                  desired build environment.
                o Changed odin32clean.cmd to use tools\bin\rm.exe.
    - MAKE:     o Corrected CC_NO_DBGMEM check for vac3xx.

 2002-09-03: Sander van Leeuwen <sandervl@innotek   >
    - USER32:   o Cleaned up clipboard code

 2002-09-03: Platon Fomichev <platon@innotek   >
    - USER32:   o Fix for Ctrl-Break

